<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    
    <script>
   let courses = [
  { name: "Courses in England", prices: [0, 100] },
  { name: "Courses in Germany", prices: [500, null] },
  { name: "Courses in Italy", prices: [100, 200] },
  { name: "Courses in Russia", prices: [null, 400] },
  { name: "Courses in China", prices: [50, 250] },
  { name: "Courses in USA", prices: [200, null] },
  { name: "Courses in Kazakhstan", prices: [56, 324] },
  { name: "Courses in France", prices: [null, null] },
];

//Заменяет null в зависимости от позиции на 0 или на Infinity

let prepareValues = (arr) => {
  let rangeMin = arr[0] === null ? 0 : arr[0];
  let rangeMax;
  if (arr[1] === null) {
    rangeMax = Infinity;
  } else {
    rangeMax = arr[1];
  }
  return [rangeMin, rangeMax];
};

//Решение задачи №1 - подбор курсов согласно фильтру пользователя

function selectionOfCourses(requiredRange) {
  let range = prepareValues(requiredRange)
  let rangeMin = range[0]
  let rangeMax = range[1]
  courses.forEach(function (item) {
    let courseName = item.name;
    let prices = prepareValues(item.prices)
    let priceMin = prices[0]
    let priceMax = prices[1]
    if (rangeMin <= priceMin && priceMax <= rangeMax) {
      console.log(courseName);
    }
  });
}
selectionOfCourses([200, null]);

//Решение задачи №2 - сортировка курсов по их цене

function sortByPrice(courses) {
  courses.sort(function (a, b) {
    a.prices = prepareValues(a.prices);
    b.prices = prepareValues(b.prices);

    if (a.prices[0] < b.prices[0]) return -1;
    else if (a.prices[0] > b.prices[0]) return 1;
    // при равных price[0] сортируем по price[1]
    else if (a.prices[1] < b.prices[1]) return -1;
    else if (a.prices[1] > b.prices[1]) return 1;
    else {
      return 0;
    }
  });

  console.log(courses);
}

sortByPrice(courses);
    </script>
 
  </head>
  <body></body>
</html>
